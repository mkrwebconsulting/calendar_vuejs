{"ast":null,"code":"import { calendarWeekData } from \"./seed\";\nimport { reactive, readonly } from \"vue\";\nconst state = reactive({\n  calendarWeekData,\n  activeView: \"CalendarWeek\",\n  activeOrdering: \"title\"\n});\nconst getters = {\n  activeDay: () => state.calendarWeekData.find(day => day.active),\n  activeView: () => state.activeView,\n  activeOrdering: () => state.activeOrdering,\n  events: dayId => {\n    const dayObj = state.calendarWeekData.find(day => day.id === dayId);\n    return dayObj.events.sort((eventA, eventB) => {\n      if (eventA[state.activeOrdering] > eventB[state.activeOrdering]) {\n        return 1;\n      } else if (eventA[state.activeOrdering] > eventB[state.activeOrdering]) {\n        return -1;\n      }\n\n      return 0;\n    });\n  }\n};\nconst mutations = {\n  setActiveDay(dayId) {\n    state.calendarWeekData.map(dayObj => {\n      dayObj.id == dayId ? dayObj.active = true : dayObj.active = false;\n    });\n  },\n\n  setActiveView(view) {\n    state.activeView = view;\n  },\n\n  setActiveOrdering(ordering) {\n    state.activeOrdering = ordering;\n  },\n\n  storeEvent(eventDO) {\n    const activeDay = getters.activeDay();\n    activeDay.events.push({\n      title: eventDO.title,\n      edit: false,\n      color: eventDO.color,\n      priority: Number(eventDO.priority)\n    });\n  },\n\n  editEvent(dayId, eventTitle) {\n    state.calendarWeekData.map(dayObj => {\n      dayObj.events.map(event => event.edit = false);\n    });\n    const dayObj = state.calendarWeekData.find(day => day.id === dayId);\n    const eventObj = dayObj.events.find(event => event.title === eventTitle);\n    eventObj.edit = true;\n  },\n\n  updateEvent(dayId, oldEventTitle, newEvent) {\n    newEvent.title = newEvent.title !== \"\" ? newEvent.title : oldEventTitle;\n    const dayObj = state.calendarWeekData.find(day => day.id === dayId);\n    const eventObj = dayObj.events.find(event => event.title === oldEventTitle);\n    eventObj.title = newEvent.title;\n    eventObj.priority = Number(newEvent.priority);\n    eventObj.edit = false;\n  },\n\n  deleteEvent(dayId, eventTitle) {\n    const dayObj = state.calendarWeekData.find(day => day.id === dayId);\n    const eventIndex = dayObj.events.findIndex(event => event.title === eventTitle);\n    dayObj.events.splice(eventIndex, 1);\n  }\n\n};\nexport default {\n  state: readonly(state),\n  getters,\n  mutations\n};","map":{"version":3,"names":["calendarWeekData","reactive","readonly","state","activeView","activeOrdering","getters","activeDay","find","day","active","events","dayId","dayObj","id","sort","eventA","eventB","mutations","setActiveDay","map","setActiveView","view","setActiveOrdering","ordering","storeEvent","eventDO","push","title","edit","color","priority","Number","editEvent","eventTitle","event","eventObj","updateEvent","oldEventTitle","newEvent","deleteEvent","eventIndex","findIndex","splice"],"sources":["/Users/isaak/Desktop/vuejs_udemy_deutsch/terminkalender/src/store.js"],"sourcesContent":["import { calendarWeekData } from \"./seed\";\nimport { reactive, readonly } from \"vue\";\n\nconst state = reactive({\n  calendarWeekData,\n  activeView: \"CalendarWeek\",\n  activeOrdering: \"title\",\n});\n\nconst getters = {\n  activeDay: () => state.calendarWeekData.find((day) => day.active),\n  activeView: () => state.activeView,\n  activeOrdering: () => state.activeOrdering,\n  events: (dayId) => {\n    const dayObj = state.calendarWeekData.find((day) => day.id === dayId);\n    return dayObj.events.sort((eventA, eventB) => {\n      if (eventA[state.activeOrdering] > eventB[state.activeOrdering]) {\n        return 1;\n      } else if (eventA[state.activeOrdering] > eventB[state.activeOrdering]) {\n        return -1;\n      }\n      return 0;\n    });\n  },\n};\n\nconst mutations = {\n  setActiveDay(dayId) {\n    state.calendarWeekData.map((dayObj) => {\n      dayObj.id == dayId ? (dayObj.active = true) : (dayObj.active = false);\n    });\n  },\n  setActiveView(view) {\n    state.activeView = view;\n  },\n  setActiveOrdering(ordering) {\n    state.activeOrdering = ordering;\n  },\n  storeEvent(eventDO) {\n    const activeDay = getters.activeDay();\n    activeDay.events.push({\n      title: eventDO.title,\n      edit: false,\n      color: eventDO.color,\n      priority: Number(eventDO.priority),\n    });\n  },\n  editEvent(dayId, eventTitle) {\n    state.calendarWeekData.map((dayObj) => {\n      dayObj.events.map((event) => (event.edit = false));\n    });\n    const dayObj = state.calendarWeekData.find((day) => day.id === dayId);\n    const eventObj = dayObj.events.find((event) => event.title === eventTitle);\n    eventObj.edit = true;\n  },\n\n  updateEvent(dayId, oldEventTitle, newEvent) {\n    newEvent.title = newEvent.title !== \"\" ? newEvent.title : oldEventTitle;\n    const dayObj = state.calendarWeekData.find((day) => day.id === dayId);\n    const eventObj = dayObj.events.find(\n      (event) => event.title === oldEventTitle\n    );\n    eventObj.title = newEvent.title;\n    eventObj.priority = Number(newEvent.priority);\n    eventObj.edit = false;\n  },\n\n  deleteEvent(dayId, eventTitle) {\n    const dayObj = state.calendarWeekData.find((day) => day.id === dayId);\n    const eventIndex = dayObj.events.findIndex(\n      (event) => event.title === eventTitle\n    );\n\n    dayObj.events.splice(eventIndex, 1);\n  },\n};\n\nexport default {\n  state: readonly(state),\n  getters,\n  mutations,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}